{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/json-pull-parser.js","webpack:///webpack/bootstrap fadce7542f432126fdff","webpack:///./src/parser.js","webpack:///./src/builder.js","webpack:///./index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","JSONPullParser","text","CodePointIterator","source","f","length","cc","TokenIterator","state","e","VALUE","r","x","next","done","ParserError","token","parseValue","last","charCodeAt","str0","str1","substring","str2","err","SyntaxError","type","Error","first","parseObjectStart","StartObject","parseObjectEnd","EndObject","parseArrayStart","StartArray","parseArrayEnd","EndArray","KEY","CLOSE","push","OBJECT","pop","COMMA","ARRAY","COLON","parseNumber","parseString","parseTrue","parseFalse","parseNull","EndDocument","Number","parseFloat","String","JSON","parse","match","ccs","success","TrueLiteral","FalseLiteral","NullLiteral","ObjectBuilder","Symbol","iterator","tokens","StartDocument","Whitespace","code","expect","reviever","builder","it","step","handle","handler","ref","add","startObject","old","key","endObject","startArray","endArray","message"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,UAAAH,GACA,gBAAAC,SACAA,QAAA,eAAAD,IAEAD,EAAA,eAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,WAUA,OANAK,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KA+DA,OAnCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAG,EAAA,SAAAK,GAA2C,MAAAA,IAG3CR,EAAAS,EAAA,SAAAf,EAAAgB,EAAAC,GACAX,EAAAY,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAvB,GACA,GAAAgB,GAAAhB,KAAAwB,WACA,WAA2B,MAAAxB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAK,GAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,KDgBM,SAAS9B,EAAQD,EAASM,GAEhC,YEtEA,SAAA0B,GAAAC,GAEA7B,KAAA6B,OA+BA,QAAAC,GAAAC,GAEA/B,KAAA2B,EAAAI,EACA/B,KAAAgC,EAAA,EACAhC,KAAAM,EAAA,EAAAyB,EAAAE,OACAjC,KAAAkC,GAAA,EAmCA,QAAAC,GAAAN,GAEA,GAAAO,IACAzB,GAAA,EACAgB,EAAAE,EACAG,EAAA,EACA1B,EAAAuB,EAAAI,OACAI,EAAAC,EACA7B,EAAA,EACA8B,EAAA,EACAC,KAEA,QACAC,KAAA,WAEA,GAAAL,EAAAJ,IAAAI,EAAA9B,EACA,MAAA8B,GAAAC,GAAAD,EAAAI,EAAAP,OAAA,GACaS,MAAA,EAAAhC,MAAAiC,EAAAP,EAAAT,EAAAS,EAAA9B,EAAA8B,EAAA9B,EAAA,kCACAoC,MAAA,EAEb,IAAAE,GAAAC,EAAAT,EAEA,OADAA,GAAAJ,EAAAY,EAAAE,MACcpC,MAAAkC,EAAAF,MAAA,KAKd,QAAAC,GAAAhB,EAAAK,EAAA1B,EAAAE,EAAA+B,GAEAA,KAAA,CAGA,KAFA,GAAA9B,GAAAuB,EACAE,EAAAP,EAAAoB,WAAAtC,GACA,KAAAyB,GAAAzB,EAAA,GACAyB,EAAAP,EAAAoB,aAAAtC,EAEA,MAAAyB,KAAAzB,CAIA,QAHAuC,GAAA,aAAAT,EACAU,EAAAtB,EAAAuB,UAAAzC,EAAAuB,EAAA,GACAmB,EAAA,GACA9C,EAAAI,EAAiBJ,EAAA2B,IAAM3B,EAAA8C,GAAA,GACvBA,IAAA,GAEA,IAAAC,GAAA,GAAAC,aAAAL,EAAA,KAAAC,EAAA,KAAAE,EAAA,OAAA3C,EACA,QACA8C,KAAA1B,EAAA2B,MACA7C,MAAA0C,EACAI,MAAAxB,EACAc,KAAAxC,GAIA,QAAAmD,GAAA9B,EAAAK,EAAA1B,GAEA,OACAgD,KAAA1B,EAAA8B,YACAhD,MAAA,IACA8C,MAAAxB,EACAc,KAAAd,EAAA,GAIA,QAAA2B,GAAAhC,EAAAK,EAAA1B,GAEA,OACAgD,KAAA1B,EAAAgC,UACAlD,MAAA,IACA8C,MAAAxB,EACAc,KAAAd,EAAA,GAGA,QAAA6B,GAAAlC,EAAAK,EAAA1B,GAEA,OACAgD,KAAA1B,EAAAkC,WACApD,MAAA,IACA8C,MAAAxB,EACAc,KAAAd,EAAA,GAIA,QAAA+B,GAAApC,EAAAK,EAAA1B,GAEA,OACAgD,KAAA1B,EAAAoC,SACAtD,MAAA,IACA8C,MAAAxB,EACAc,KAAAd,EAAA,GAIA,QAAAa,GAAAT,GAKA,IAHA,GAAAT,GAAAS,EAAAT,EACAK,EAAAI,EAAAJ,EACA1B,EAAA8B,EAAA9B,EACA0B,EAAA1B,GAEA,OADA8B,EAAA3B,IACAkB,EAAAoB,WAAAf,IACA,QACAI,EAAA3B,EAAA,EACA2B,EAAAG,GACA,QACA,QACA,UACAP,CAAY,SACZ,UACA,MAAAI,GAAAC,EAAAC,GACAF,EAAAC,EAAA4B,EAAAC,EACA9B,EAAAI,EAAA2B,KAAAC,GACAX,EAAA9B,EAAAK,EAAA1B,IAHAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAA+E0B,EAAAI,EAAAG,EAI/E,UACA,MAAAH,GAAAC,EAAA6B,GAAA9B,EAAAI,EAAA6B,QAAAD,GACAhC,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAP,EAAAhC,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAA2G0B,EAAAI,EAAAG,EAG3G,SACA,MAAAH,GAAAC,EAAAC,GACAF,EAAAC,EAAAC,EAAA4B,EACA9B,EAAAI,EAAA2B,KAAAI,GACAV,EAAAlC,EAAAK,EAAA1B,IAHAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EAIA,SACA,MAAAH,GAAAC,EAAA6B,GAAA9B,EAAAI,EAAA6B,QAAAE,GACAnC,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAH,EAAApC,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EAGA,SACA,KAAAH,EAAAC,EAAAmC,GAAA,MAAA7B,GAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EACAH,GAAAC,EAAAC,IACAN,CAAY,SACZ,SACA,KAAAI,EAAAC,EAAAiC,GAAA,MAAA3B,GAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EACAH,GAAAI,EAAAP,OAAA,GAAAG,EAAAI,EAAAJ,EAAAI,EAAAP,OAAA,KAAAmC,EAAAhC,EAAAC,EAAA4B,EACA7B,EAAAC,EAAAC,IACAN,CAAY,SACZ,SACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,MAAAI,GAAAC,EAAAC,GACAF,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAO,EAAA9C,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,yCAAA0B,EAAAI,EAAAG,EAGA,SACA,MAAAH,GAAAC,EAAA4B,GACA7B,EAAAC,EAAAmC,EACAE,EAAA/C,EAAAK,EAAA1B,IAEA8B,EAAAC,EAAAC,GACAF,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAQ,EAAA/C,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,yCAAA0B,EAAAI,EAAAG,EAGA,UACA,MAAAH,GAAAC,EAAAC,GACAF,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAS,EAAAhD,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EAGA,UACA,MAAAH,GAAAC,EAAAC,GACAF,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAU,EAAAjD,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EAGA,UACA,MAAAH,GAAAC,EAAAC,GACAF,EAAAC,EAAAD,EAAAI,EAAAP,OAAA,EAAAqC,EAAAJ,EAAA,EACAW,EAAAlD,EAAAK,EAAA1B,IAFAqC,EAAAhB,EAAAK,EAAA1B,EAAA,0CAAA0B,EAAAI,EAAAG,EAGA,eAAAI,GAAAhB,EAAAK,EAAA1B,EAAA,oBAAAqB,EAAAK,GAAA,wBAAAA,EAAAI,EAAAG,GAGA,OACAe,KAAA1B,EAAAkD,YACAtB,MAAAlD,EACAwC,KAAAxC,GAIA,QAAAmE,GAAA9C,EAAAK,EAAA1B,GAEA,GAAAG,GAAAuB,EAEAE,EAAAP,EAAAoB,WAAAtC,IAIA,IAFA,KAAAyB,MAAAP,EAAAoB,WAAAtC,MAEA,KAAAyB,EACA,KAAAA,GAAA,IAAAA,GAAA,IACAA,EAAAP,EAAAoB,WAAAtC,SAIAyB,GAAAP,EAAAoB,WAAAtC,IAGA,SAAAyB,EAEA,IADAA,EAAAP,EAAAoB,WAAAtC,KACAyB,GAAA,IAAAA,GAAA,IAAAA,EAAAP,EAAAoB,WAAAtC,IAGA,UAAAyB,GAAA,KAAAA,EAAA,CAGA,GAFAA,EAAAP,EAAAoB,WAAAtC,KACA,KAAAyB,GAAA,KAAAA,MAAAP,EAAAoB,WAAAtC,MACAyB,EAAA,IAAAA,EAAA,SAAAS,GAAAhB,EAAAlB,EAAA,EAAAH,EAAA,oBAAAqB,EAAAlB,EAAA,4BAAAA,EAAA,GACA,IAAAA,GAAAH,EAAA,MAAAqC,GAAAhB,EAAAK,EAAA1B,EAAA,+BACA,MAAA4B,GAAA,IAAAA,GAAA,IAAAA,EAAAP,EAAAoB,WAAAtC,KAIA,OACA6C,KAAA1B,EAAAmD,OACArE,MAAAsE,WAAArD,EAAAuB,UAAAlB,EAAAvB,EAAA,IACA+C,MAAAxB,EACAc,KAAArC,EAAA,GAMA,QAAAiE,GAAA/C,EAAAK,EAAA1B,GAGA,IADA,GAAAG,GAAAuB,EAAA,EACAvB,EAAAH,GAAA,CACA,GAAA4B,GAAAP,EAAAoB,WAAAtC,IACA,SAAAyB,EAAA,KACA,SAAAA,IACAA,EAAAP,EAAAoB,WAAAtC,KACA,MAAAyB,IACAzB,GAAA,EACAA,EAAAH,IAAA,MAAAqC,GAAAhB,EAAArB,IAAA,gCAKA,OACAgD,KAAA1B,EAAAqD,OACAvE,MAAAwE,KAAAC,MAAAxD,EAAAuB,UAAAlB,EAAAvB,IACAsB,OAAAJ,EACA6B,MAAAxB,EACAc,KAAArC,GAIA,QAAA2E,GAAAzD,EAAAK,EAAA1B,EAAA+E,EAAAC,GAEA,GAAAtD,EAAAqD,EAAApD,OAAA3B,EAAA,MAAAqC,GAAAhB,EAAArB,IAAA,+BACA,QAAAD,GAAA,EAAiBA,EAAAgF,EAAApD,SAAe5B,EAAA,CAChC,GAAA6B,GAAAP,EAAAoB,WAAAf,IACA,IAAAE,IAAAmD,EAAAhF,GAAA,MAAAsC,GAAAhB,EAAAK,EAAA1B,EAAA,oBAAAqB,EAAAK,EAAA,4BAAAA,EAAA,IAEA,MAAAsD,GAGA,QAAAX,GAAAhD,EAAAK,EAAA1B,GAEA,MAAA8E,GAAAzD,EAAAK,EAAA1B,GAAA,kBACAgD,KAAA1B,EAAA2D,YACA7E,OAAA,EACAqB,OAAAJ,EACA6B,MAAAxB,EACAc,KAAAd,EAAA,IAIA,QAAA4C,GAAAjD,EAAAK,EAAA1B,GAEA,MAAA8E,GAAAzD,EAAAK,EAAA1B,GAAA,qBACAgD,KAAA1B,EAAA4D,aACA9E,OAAA,EACAqB,OAAAJ,EACA6B,MAAAxB,EACAc,KAAAd,EAAA,IAIA,QAAA6C,GAAAlD,EAAAK,EAAA1B,GAEA,MAAA8E,GAAAzD,EAAAK,EAAA1B,GAAA,kBACAgD,KAAA1B,EAAA6D,YACA/E,MAAA,KACAqB,OAAAJ,EACA6B,MAAAxB,EACAc,KAAAd,EAAA,IA3WA,GAAA0D,GAAAxF,EAAA,GAEAoC,EAAA,EACA2B,EAAA,EACAK,EAAA,EACAE,EAAA,EACAN,EAAA,GACAE,EAAA,GACAG,EAAA,EAOA3C,GAAAJ,UAAAmE,OAAAC,UAAA,WAEA,MAAAzD,GAAAnC,KAAA6B,OAGAD,EAAAJ,UAAAqE,OAAA,WAEA,MAAA1D,GAAAnC,KAAA6B,OAGA,gBAAA8D,gBAAAC,WACAhE,EAAAJ,UAAAmE,OAAAC,UAAAhE,EAAAJ,UAAAqE,QAGAjE,EAAAkE,cAAA,IACAlE,EAAAkD,YAAA,IACAlD,EAAA8B,YAAA,IACA9B,EAAAgC,UAAA,IACAhC,EAAAkC,WAAA,IACAlC,EAAAoC,SAAA,IACApC,EAAAqD,OAAA,SACArD,EAAAmD,OAAA,SACAnD,EAAA2D,YAAA,OACA3D,EAAA4D,aAAA,QACA5D,EAAA6D,YAAA,OACA7D,EAAAmE,WAAA,KACAnE,EAAA2B,MAAA,QAUAzB,EAAAN,UAAAiB,KAAA,WAEA,QAAAzC,KAAAgC,GAAAhC,KAAAM,KACAN,KAAAkC,GAAA,EAAAH,OAAAgB,WAAA/C,KAAAgC,MACA,IAGAF,EAAAN,UAAAwE,KAAA,WAEA,MAAAhG,MAAAkC,IAGAJ,EAAAN,UAAAyE,OAAA,SAAAD,KAIApE,EAAA8D,gBAEA9D,EAAAuD,MAAA,SAAAtD,EAAAqE,GAEA,gBAAArE,OAAA,GAAAA,EAGA,QAFAsE,GAAA,GAAAT,GACAU,EAAAjE,EAAAN,GACAwE,EAAAD,EAAA3D,QAA4B4D,EAAA3D,KAAW2D,EAAAD,EAAA3D,OAAA,CACvC,GAAAG,GAAAyD,EAAA3F,KAEAyF,GAAAG,OAAA1D,GAEA,sBAAAuD,GAAAzF,MAAA,SAAA2C,aAAA,+BACA,OAAA8C,GAAAzF,OA+RAb,EAAAD,QAAAgC,GFwFM,SAAS/B,EAAQD,GGzcvB,QAAA8F,KACA1F,KAAAuG,SACAC,IAAAxG,KACAyG,IAAA,SAAA/F,GAAmD,MAAxBV,MAAAwG,IAAA9F,QAAwBA,IAInDgF,EAAAlE,UAAAkF,YAAA,WACA1G,KAAAuG,SACAI,IAAA3G,KAAAuG,QACAK,IAAA,KACAJ,IAAAxG,KAAAuG,QAAAE,QACAA,IAAA,SAAA/F,GAGA,MAFA,QAAAV,KAAA4G,IAAA5G,KAAA4G,IAAAlG,GACYV,KAAAwG,IAAAxG,KAAA4G,KAAAlG,EAA4BV,KAAA4G,IAAA,MACxClG,KAKAgF,EAAAlE,UAAAqF,UAAA,WACA7G,KAAAuG,QAAAvG,KAAAuG,QAAAI,KAGAjB,EAAAlE,UAAAsF,WAAA,WACA9G,KAAAuG,SACAI,IAAA3G,KAAAuG,QACAC,IAAAxG,KAAAuG,QAAAE,QACAA,IAAA,SAAA/F,GAEA,MADAV,MAAAwG,IAAArC,KAAAzD,GACAA,KAKAgF,EAAAlE,UAAAuF,SAAArB,EAAAlE,UAAAqF,UAEAnB,EAAAlE,UAAAiF,IAAA,SAAA/F,GACAV,KAAAuG,QAAAE,IAAA/F,IAGAgF,EAAAlE,UAAA8E,OAAA,SAAA1D,GACA,OAAAA,EAAAU,MACA,QACAtD,KAAA0G,aACA,MACA,SACA1G,KAAA6G,WACA,MACA,SACA7G,KAAA8G,YACA,MACA,SACA9G,KAAA+G,UACA,MACA,cACA,aACA,WACA,YACA,WACA/G,KAAAyG,IAAA7D,EAAAlC,MACA,MACA,aACA,SAAA2C,aAAAT,EAAAlC,MAAAsG,WAIAnH,EAAAD,QAAA8F,GH+cM,SAAS7F,EAAQD,EAASM,GIlhBhCL,EAAAD,QAAAM,EAAA","file":"dist/json-pull-parser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JSONPullParser\"] = factory();\n\telse\n\t\troot[\"JSONPullParser\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JSONPullParser\"] = factory();\n\telse\n\t\troot[\"JSONPullParser\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar ObjectBuilder = __webpack_require__(1);\n\nvar VALUE  =  1;\nvar KEY    =  2;\nvar COMMA  =  4;\nvar COLON  =  8;\nvar CLOSE  = 16;\nvar OBJECT = 32;\nvar ARRAY  = 64;\n\nfunction JSONPullParser(text)\n{\n  this.text = text;\n}\n\nJSONPullParser.prototype[Symbol.iterator] = function()\n{\n  return TokenIterator(this.text);\n}\n\nJSONPullParser.prototype.tokens = function()\n{\n  return TokenIterator(this.text);\n}\n\nif (typeof Symbol === 'object' && Symbol.iterator) {\n  JSONPullParser.prototype[Symbol.iterator] = JSONPullParser.prototype.tokens;\n}\n\nJSONPullParser.StartDocument = '<';\nJSONPullParser.EndDocument   = '>';\nJSONPullParser.StartObject   = '{';\nJSONPullParser.EndObject     = '}';\nJSONPullParser.StartArray    = '[';\nJSONPullParser.EndArray      = ']';\nJSONPullParser.String        = 'string';\nJSONPullParser.Number        = 'number';\nJSONPullParser.TrueLiteral   = 'true';\nJSONPullParser.FalseLiteral  = 'false';\nJSONPullParser.NullLiteral   = 'null';\nJSONPullParser.Whitespace    = 'ws';\nJSONPullParser.Error         = 'error';\n\nfunction CodePointIterator(source)\n{\n  this.s = source;\n  this.f = 0;\n  this.l = source.length | 0;\n  this.cc = 0;\n}\n\nCodePointIterator.prototype.next = function ()\n{\n  if (this.f >= this.l) return false;\n  this.cc = source.charCodeAt(this.f++) | 0;\n  return true;\n}\n\nCodePointIterator.prototype.code = function ()\n{\n  return this.cc;\n}\n\nCodePointIterator.prototype.expect = function (code)\n{\n}\n\nJSONPullParser.ObjectBuilder = ObjectBuilder;\n\nJSONPullParser.parse = function(text, reviever)\n{\n  if (typeof text !== 'string') text = '' + text;\n  var builder = new ObjectBuilder();\n  var it = TokenIterator(text);\n  for (var step = it.next();!step.done; step = it.next()) {\n    var token = step.value;\n    // console.log(\"token: \" + token.type);\n    builder.handle(token);\n  }\n  if (typeof builder.value === 'undefined') throw new SyntaxError('Unexpected end of JSON input');\n  return builder.value;\n}\n\nfunction TokenIterator(text)\n{\n  var state = {\n    d: false,       // done\n    s: text,\n    f: 0,           // position\n    l: text.length, // length\n    e: VALUE,       // expect\n    c: 0,           // column\n    r: 1,           // row\n    x: []\n  };\n  return {\n    next: function () {\n      // console.log(`next: ${state.f}, ${state.l}, ${text.charCodeAt(state.f).toString(16)}`)\n      if (state.f === state.l) {\n        return (state.e || state.x.length > 0)\n          ? { done: false, value: ParserError(state.s, state.l, state.l, 'Unexpected end of JSON input') }\n          : { done: true };\n      }\n      var token = parseValue(state);\n      state.f = token.last;\n      return { value: token, done: false };\n    }\n  };\n}\n\nfunction ParserError(s, f, l, m, r)\n{\n  r = r || 1;\n  var c = f;\n  var cc = s.charCodeAt(c);\n  while (cc !== 0x0a && c > 0) {\n    cc = s.charCodeAt(--c);\n  }\n  if (cc === 0x0a) ++c;\n  var str0 = 'undefined:' + r;\n  var str1 = s.substring(c, f+1);\n  var str2 = '';\n  for (var i = c;i < f;++i) str2 += ' ';\n  str2 += '^';\n\n  var err = new SyntaxError(str0 + \"\\n\" + str1 + \"\\n\" + str2 + \"\\n\\n\" + m);\n  return {\n    type: JSONPullParser.Error,\n    value: err,\n    first: f,\n    last: l\n  };\n}\n\nfunction parseObjectStart(s, f, l)\n{\n  return {\n    type: JSONPullParser.StartObject,\n    value: '{',\n    first: f,\n    last: f+1\n  };\n}\n\nfunction parseObjectEnd(s, f, l)\n{\n  return {\n    type: JSONPullParser.EndObject,\n    value: '}',\n    first: f,\n    last: f+1\n  };\n}\nfunction parseArrayStart(s, f, l)\n{\n  return {\n    type: JSONPullParser.StartArray,\n    value: '[',\n    first: f,\n    last: f+1\n  };\n}\n\nfunction parseArrayEnd(s, f, l)\n{\n  return {\n    type: JSONPullParser.EndArray,\n    value: ']',\n    first: f,\n    last: f+1\n  };\n}\n\nfunction parseValue(state)\n{\n  var s = state.s;\n  var f = state.f;\n  var l = state.l;\n  while (f < l) {\n    state.c++;\n    switch (s.charCodeAt(f)) {\n      case 0x0a: // LF\n        state.c = 0;\n        state.r++;\n      case 0x09: // TAB\n      case 0x0d: // CR\n      case 0x20: // WS\n        ++f; continue;\n      case 0x7b: // {\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token { in JSON at position ' + f, state.r);\n        state.e = KEY | CLOSE;\n        state.x.push(OBJECT);\n        return parseObjectStart(s, f, l);\n      case 0x7d: // }\n        if (!(state.e & CLOSE) || state.x.pop() !== OBJECT) return ParserError(s, f, l, 'Unexpected token } in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseObjectEnd(s, f, l);\n      case 0x5b: // [\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token [ in JSON at position ' + f, state.r);\n        state.e = VALUE | CLOSE;\n        state.x.push(ARRAY);\n        return parseArrayStart(s, f, l);\n      case 0x5d: // ]\n        if (!(state.e & CLOSE) || state.x.pop() !== ARRAY) return ParserError(s, f, l, 'Unexpected token ] in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseArrayEnd(s, f, l);\n      case 0x3a: // :\n        if (!(state.e & COLON)) return ParserError(s, f, l, 'Unexpected token : in JSON at position ' + f, state.r);\n        state.e = VALUE;\n        ++f; continue;\n      case 0x2c: // ,\n        if (!(state.e & COMMA)) return ParserError(s, f, l, 'Unexpected token , in JSON at position ' + f, state.r);\n        if (state.x.length > 0 && state.x[state.x.length-1] === OBJECT) state.e = KEY;\n        else state.e = VALUE;\n        ++f; continue;\n      case 0x2d: // -\n      case 0x30: // 0\n      case 0x31: // 1\n      case 0x32: // 2\n      case 0x33: // 3\n      case 0x34: // 4\n      case 0x35: // 5\n      case 0x36: // 6\n      case 0x37: // 7\n      case 0x38: // 8\n      case 0x39: // 9\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected number in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseNumber(s, f, l);\n      case 0x22:\n        if (state.e & KEY) {\n          state.e = COLON;\n          return parseString(s, f, l);\n        }\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected string in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseString(s, f, l);\n      case 0x74: // t\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token t in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseTrue(s, f, l);\n      case 0x66: // f\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token f in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseFalse(s, f, l);\n      case 0x6e: // n\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token n in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseNull(s, f, l);\n      default: return ParserError(s, f, l, 'Unexpected token ' + s[f] + ' in JSON at position ' + f, state.r);\n    }\n  }\n  return {\n    type: JSONPullParser.EndDocument,\n    first: l,\n    last: l,\n  };\n}\n\nfunction parseNumber(s, f, l)\n{\n  var c = f;\n\n  var cc = s.charCodeAt(c++);\n\n  if (cc === 0x2d /* - */) cc = s.charCodeAt(c++);\n\n  if (cc !== 0x30 /* 0 */) {\n    while (cc >= 0x30 /* 0 */ && cc <= 0x39 /* 9 */) {\n      cc = s.charCodeAt(c++);\n    }\n  }\n  else {\n    cc = s.charCodeAt(c++);\n  }\n\n  if (cc === 0x2e /* . */) {\n    cc = s.charCodeAt(c++);\n    while (cc >= 0x30 && cc <= 0x39) cc = s.charCodeAt(c++);\n  }\n\n  if (cc === 0x65 /* e */|| cc === 0x45 /* E */) {\n    cc = s.charCodeAt(c++);\n    if (cc === 0x2b /* + */|| cc === 0x2d /* - */) cc = s.charCodeAt(c++);\n    if (cc < 0x30 || cc > 0x39) return ParserError(s, c-1, l, 'Unexpected token ' + s[c-1] + ' in JSON at position ' + (c-1));\n    if (c >= l) return ParserError(s, f, l, 'Unexpected end of JSON input');\n    while (cc >= 0x30 /* 0 */ && cc <= 0x39 /* 9 */) cc = s.charCodeAt(c++);\n\n  }\n\n  return {\n    type: JSONPullParser.Number,\n    value: parseFloat(s.substring(f, c-1)), // parseFloat seems to be faster than JSON.parse\n    first: f,\n    last: c-1\n  };\n\n}\n\n// ECMA-404 section 9\nfunction parseString(s, f, l)\n{\n  var c = f+1;\n  while (c < l) {\n    var cc = s.charCodeAt(c++);\n    if (cc === 0x22 /* \" */) break;\n    else if (cc === 0x5c /* \\ */) {\n      cc = s.charCodeAt(c++);\n      if (cc === 0x75 /* u */) {\n        c += 4;\n        if (c > l) return ParserError(s, l, l, 'Unexpected end of JSON input');\n      }\n    }\n  }\n  // console.log(`string: ${c}, ${f}, ${s.substring(f, c)}`);\n  return {\n    type: JSONPullParser.String,\n    value: JSON.parse(s.substring(f, c)),\n    source: s,\n    first: f,\n    last: c\n  };\n}\n\nfunction match(s, f, l, ccs, success)\n{\n  if (f + ccs.length > l) return ParserError(s, l, l, 'Unexpected end of JSON input');\n  for (var i = 0;i < ccs.length; ++i) {\n    var cc = s.charCodeAt(f++);\n    if (cc !== ccs[i]) return ParserError(s, f, l, 'Unexpected token ' + s[f-1] + ' in JSON at position ' + (f-1));\n  }\n  return success;\n}\n\nfunction parseTrue(s, f, l)\n{\n  return match(s, f, l, [0x74, 0x72, 0x75, 0x65], {\n    type: JSONPullParser.TrueLiteral,\n    value: true,\n    source: s,\n    first: f,\n    last: f+4\n  });\n}\n\nfunction parseFalse(s, f, l)\n{\n  return match(s, f, l, [0x66, 0x61, 0x6c, 0x73, 0x65], {\n    type: JSONPullParser.FalseLiteral,\n    value: false,\n    source: s,\n    first: f,\n    last: f+5\n  });\n}\n\nfunction parseNull(s, f, l)\n{\n  return match(s, f, l, [0x6e, 0x75, 0x6c, 0x6c], {\n    type: JSONPullParser.NullLiteral,\n    value: null,\n    source: s,\n    first: f,\n    last: f+4\n  });\n}\n\nmodule.exports = JSONPullParser;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\nfunction ObjectBuilder() {\n  this.handler = {\n    ref: this,\n    add: function (value) { this.ref.value = value; return value; },\n  };\n}\n\nObjectBuilder.prototype.startObject = function () {\n  this.handler = {\n    old: this.handler,\n    key: null,\n    ref: this.handler.add({}),\n    add: function (value) {\n      if (this.key === null) this.key = value;\n      else { this.ref[this.key] = value; this.key = null; }\n      return value;\n    },\n  };\n}\n\nObjectBuilder.prototype.endObject = function () {\n  this.handler = this.handler.old;\n}\n\nObjectBuilder.prototype.startArray = function () {\n  this.handler = {\n    old: this.handler,\n    ref: this.handler.add([]),\n    add: function (value) {\n      this.ref.push(value);\n      return value;\n    },\n  };\n}\n\nObjectBuilder.prototype.endArray = ObjectBuilder.prototype.endObject;\n\nObjectBuilder.prototype.add = function (value) {\n  this.handler.add(value);\n}\n\nObjectBuilder.prototype.handle = function (token) {\n  switch (token.type) {\n    case '{':\n      this.startObject();\n      break;\n    case '}':\n      this.endObject();\n      break;\n    case '[':\n      this.startArray();\n      break;\n    case ']':\n      this.endArray();\n      break;\n    case 'string':\n    case 'number':\n    case 'true':\n    case 'false':\n    case 'null':\n      this.add(token.value);\n      break;\n    case 'error':\n      throw new SyntaxError(token.value.message);\n  }\n}\n\nmodule.exports = ObjectBuilder;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n// function printStatus(fn) {\n//     switch(%GetOptimizationStatus(fn)) {\n//         case 1: console.log(\"Function is optimized\"); break;\n//         case 2: console.log(\"Function is not optimized\"); break;\n//         case 3: console.log(\"Function is always optimized\"); break;\n//         case 4: console.log(\"Function is never optimized\"); break;\n//         case 6: console.log(\"Function is maybe deoptimized\"); break;\n//         case 7: console.log(\"Function is optimized by TurboFan\"); break;\n//         default: console.log(\"Unknown optimization status\"); break;\n//     }\n// }\n\n// const N = 1e6;\n\n// var o = true;\n// // for (let i = 0;i < N;++i) {\n// //   o.push(null);\n// //   o.push(true);\n// //   o.push(false);\n// //   // o.push(((Math.random() - 0.5) * 1e12));\n// //   // o.push(((Math.random() - 0.5) * 1e12).toString(36));\n// //   // o[ ((Math.random() - 0.5) * 1e12).toString(36) ] = ((Math.random() - 0.5) * 1e12);\n// // }\n\n// var s = JSON.stringify(o, null, 2);\n\n// JSONPullParser.parse(s);\n// JSONPullParser.parse(s);\n// JSONPullParser.parse(s);\n\n\n// // %OptimizeFunctionOnNextCall(JSONPullParser.parse);\n// %OptimizeFunctionOnNextCall(parseTrue);\n// %OptimizeFunctionOnNextCall(parseFalse);\n// %OptimizeFunctionOnNextCall(parseNull);\n// %OptimizeFunctionOnNextCall(match);\n\n// JSONPullParser.parse(s);\n// JSONPullParser.parse(s);\n\n// printStatus(JSONPullParser.parse);\n// printStatus(parseNumber);\n// printStatus(parseString);\n// printStatus(parseTrue);\n// printStatus(parseFalse);\n// printStatus(parseNull);\n// printStatus(match);\n\n\n// // console.time('1');\n// // var o1 = JSON.parse(s);\n// // console.timeEnd('1');\n// // var s1 = JSON.stringify(o1);\n\n// console.time('2');\n// var o2 = JSONPullParser.parse(s);\n// console.timeEnd('2');\n// // var s2 = JSON.stringify(o2);\n\n// console.time('1');\n// var o1 = JSON.parse(s);\n// console.timeEnd('1');\n// var s1 = JSON.stringify(o1);\n\n\n// // console.log(s1 === s2);\n\n// // for (let i = 0;i < N;++i) {\n// //   if (o1[i] !== o2[i]) {\n// //     console.log(i, o[i], o1[i], o2[i]);\n// //     break;\n// //   }\n// // }\n\n// JSON.parse('[\"Comma after the close\"],');\n\n// JSONPullParser.parse('25');\n\n\n/***/ }\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// dist/json-pull-parser.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fadce7542f432126fdff","'use strict';\n\nvar ObjectBuilder = require('./builder');\n\nvar VALUE  =  1;\nvar KEY    =  2;\nvar COMMA  =  4;\nvar COLON  =  8;\nvar CLOSE  = 16;\nvar OBJECT = 32;\nvar ARRAY  = 64;\n\nfunction JSONPullParser(text)\n{\n  this.text = text;\n}\n\nJSONPullParser.prototype[Symbol.iterator] = function()\n{\n  return TokenIterator(this.text);\n}\n\nJSONPullParser.prototype.tokens = function()\n{\n  return TokenIterator(this.text);\n}\n\nif (typeof Symbol === 'object' && Symbol.iterator) {\n  JSONPullParser.prototype[Symbol.iterator] = JSONPullParser.prototype.tokens;\n}\n\nJSONPullParser.StartDocument = '<';\nJSONPullParser.EndDocument   = '>';\nJSONPullParser.StartObject   = '{';\nJSONPullParser.EndObject     = '}';\nJSONPullParser.StartArray    = '[';\nJSONPullParser.EndArray      = ']';\nJSONPullParser.String        = 'string';\nJSONPullParser.Number        = 'number';\nJSONPullParser.TrueLiteral   = 'true';\nJSONPullParser.FalseLiteral  = 'false';\nJSONPullParser.NullLiteral   = 'null';\nJSONPullParser.Whitespace    = 'ws';\nJSONPullParser.Error         = 'error';\n\nfunction CodePointIterator(source)\n{\n  this.s = source;\n  this.f = 0;\n  this.l = source.length | 0;\n  this.cc = 0;\n}\n\nCodePointIterator.prototype.next = function ()\n{\n  if (this.f >= this.l) return false;\n  this.cc = source.charCodeAt(this.f++) | 0;\n  return true;\n}\n\nCodePointIterator.prototype.code = function ()\n{\n  return this.cc;\n}\n\nCodePointIterator.prototype.expect = function (code)\n{\n}\n\nJSONPullParser.ObjectBuilder = ObjectBuilder;\n\nJSONPullParser.parse = function(text, reviever)\n{\n  if (typeof text !== 'string') text = '' + text;\n  var builder = new ObjectBuilder();\n  var it = TokenIterator(text);\n  for (var step = it.next();!step.done; step = it.next()) {\n    var token = step.value;\n    // console.log(\"token: \" + token.type);\n    builder.handle(token);\n  }\n  if (typeof builder.value === 'undefined') throw new SyntaxError('Unexpected end of JSON input');\n  return builder.value;\n}\n\nfunction TokenIterator(text)\n{\n  var state = {\n    d: false,       // done\n    s: text,\n    f: 0,           // position\n    l: text.length, // length\n    e: VALUE,       // expect\n    c: 0,           // column\n    r: 1,           // row\n    x: []\n  };\n  return {\n    next: function () {\n      // console.log(`next: ${state.f}, ${state.l}, ${text.charCodeAt(state.f).toString(16)}`)\n      if (state.f === state.l) {\n        return (state.e || state.x.length > 0)\n          ? { done: false, value: ParserError(state.s, state.l, state.l, 'Unexpected end of JSON input') }\n          : { done: true };\n      }\n      var token = parseValue(state);\n      state.f = token.last;\n      return { value: token, done: false };\n    }\n  };\n}\n\nfunction ParserError(s, f, l, m, r)\n{\n  r = r || 1;\n  var c = f;\n  var cc = s.charCodeAt(c);\n  while (cc !== 0x0a && c > 0) {\n    cc = s.charCodeAt(--c);\n  }\n  if (cc === 0x0a) ++c;\n  var str0 = 'undefined:' + r;\n  var str1 = s.substring(c, f+1);\n  var str2 = '';\n  for (var i = c;i < f;++i) str2 += ' ';\n  str2 += '^';\n\n  var err = new SyntaxError(str0 + \"\\n\" + str1 + \"\\n\" + str2 + \"\\n\\n\" + m);\n  return {\n    type: JSONPullParser.Error,\n    value: err,\n    first: f,\n    last: l\n  };\n}\n\nfunction parseObjectStart(s, f, l)\n{\n  return {\n    type: JSONPullParser.StartObject,\n    value: '{',\n    first: f,\n    last: f+1\n  };\n}\n\nfunction parseObjectEnd(s, f, l)\n{\n  return {\n    type: JSONPullParser.EndObject,\n    value: '}',\n    first: f,\n    last: f+1\n  };\n}\nfunction parseArrayStart(s, f, l)\n{\n  return {\n    type: JSONPullParser.StartArray,\n    value: '[',\n    first: f,\n    last: f+1\n  };\n}\n\nfunction parseArrayEnd(s, f, l)\n{\n  return {\n    type: JSONPullParser.EndArray,\n    value: ']',\n    first: f,\n    last: f+1\n  };\n}\n\nfunction parseValue(state)\n{\n  var s = state.s;\n  var f = state.f;\n  var l = state.l;\n  while (f < l) {\n    state.c++;\n    switch (s.charCodeAt(f)) {\n      case 0x0a: // LF\n        state.c = 0;\n        state.r++;\n      case 0x09: // TAB\n      case 0x0d: // CR\n      case 0x20: // WS\n        ++f; continue;\n      case 0x7b: // {\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token { in JSON at position ' + f, state.r);\n        state.e = KEY | CLOSE;\n        state.x.push(OBJECT);\n        return parseObjectStart(s, f, l);\n      case 0x7d: // }\n        if (!(state.e & CLOSE) || state.x.pop() !== OBJECT) return ParserError(s, f, l, 'Unexpected token } in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseObjectEnd(s, f, l);\n      case 0x5b: // [\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token [ in JSON at position ' + f, state.r);\n        state.e = VALUE | CLOSE;\n        state.x.push(ARRAY);\n        return parseArrayStart(s, f, l);\n      case 0x5d: // ]\n        if (!(state.e & CLOSE) || state.x.pop() !== ARRAY) return ParserError(s, f, l, 'Unexpected token ] in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseArrayEnd(s, f, l);\n      case 0x3a: // :\n        if (!(state.e & COLON)) return ParserError(s, f, l, 'Unexpected token : in JSON at position ' + f, state.r);\n        state.e = VALUE;\n        ++f; continue;\n      case 0x2c: // ,\n        if (!(state.e & COMMA)) return ParserError(s, f, l, 'Unexpected token , in JSON at position ' + f, state.r);\n        if (state.x.length > 0 && state.x[state.x.length-1] === OBJECT) state.e = KEY;\n        else state.e = VALUE;\n        ++f; continue;\n      case 0x2d: // -\n      case 0x30: // 0\n      case 0x31: // 1\n      case 0x32: // 2\n      case 0x33: // 3\n      case 0x34: // 4\n      case 0x35: // 5\n      case 0x36: // 6\n      case 0x37: // 7\n      case 0x38: // 8\n      case 0x39: // 9\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected number in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseNumber(s, f, l);\n      case 0x22:\n        if (state.e & KEY) {\n          state.e = COLON;\n          return parseString(s, f, l);\n        }\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected string in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseString(s, f, l);\n      case 0x74: // t\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token t in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseTrue(s, f, l);\n      case 0x66: // f\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token f in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseFalse(s, f, l);\n      case 0x6e: // n\n        if (!(state.e & VALUE)) return ParserError(s, f, l, 'Unexpected token n in JSON at position ' + f, state.r);\n        state.e = state.x.length > 0 ? COMMA | CLOSE : 0;\n        return parseNull(s, f, l);\n      default: return ParserError(s, f, l, 'Unexpected token ' + s[f] + ' in JSON at position ' + f, state.r);\n    }\n  }\n  return {\n    type: JSONPullParser.EndDocument,\n    first: l,\n    last: l,\n  };\n}\n\nfunction parseNumber(s, f, l)\n{\n  var c = f;\n\n  var cc = s.charCodeAt(c++);\n\n  if (cc === 0x2d /* - */) cc = s.charCodeAt(c++);\n\n  if (cc !== 0x30 /* 0 */) {\n    while (cc >= 0x30 /* 0 */ && cc <= 0x39 /* 9 */) {\n      cc = s.charCodeAt(c++);\n    }\n  }\n  else {\n    cc = s.charCodeAt(c++);\n  }\n\n  if (cc === 0x2e /* . */) {\n    cc = s.charCodeAt(c++);\n    while (cc >= 0x30 && cc <= 0x39) cc = s.charCodeAt(c++);\n  }\n\n  if (cc === 0x65 /* e */|| cc === 0x45 /* E */) {\n    cc = s.charCodeAt(c++);\n    if (cc === 0x2b /* + */|| cc === 0x2d /* - */) cc = s.charCodeAt(c++);\n    if (cc < 0x30 || cc > 0x39) return ParserError(s, c-1, l, 'Unexpected token ' + s[c-1] + ' in JSON at position ' + (c-1));\n    if (c >= l) return ParserError(s, f, l, 'Unexpected end of JSON input');\n    while (cc >= 0x30 /* 0 */ && cc <= 0x39 /* 9 */) cc = s.charCodeAt(c++);\n\n  }\n\n  return {\n    type: JSONPullParser.Number,\n    value: parseFloat(s.substring(f, c-1)), // parseFloat seems to be faster than JSON.parse\n    first: f,\n    last: c-1\n  };\n\n}\n\n// ECMA-404 section 9\nfunction parseString(s, f, l)\n{\n  var c = f+1;\n  while (c < l) {\n    var cc = s.charCodeAt(c++);\n    if (cc === 0x22 /* \" */) break;\n    else if (cc === 0x5c /* \\ */) {\n      cc = s.charCodeAt(c++);\n      if (cc === 0x75 /* u */) {\n        c += 4;\n        if (c > l) return ParserError(s, l, l, 'Unexpected end of JSON input');\n      }\n    }\n  }\n  // console.log(`string: ${c}, ${f}, ${s.substring(f, c)}`);\n  return {\n    type: JSONPullParser.String,\n    value: JSON.parse(s.substring(f, c)),\n    source: s,\n    first: f,\n    last: c\n  };\n}\n\nfunction match(s, f, l, ccs, success)\n{\n  if (f + ccs.length > l) return ParserError(s, l, l, 'Unexpected end of JSON input');\n  for (var i = 0;i < ccs.length; ++i) {\n    var cc = s.charCodeAt(f++);\n    if (cc !== ccs[i]) return ParserError(s, f, l, 'Unexpected token ' + s[f-1] + ' in JSON at position ' + (f-1));\n  }\n  return success;\n}\n\nfunction parseTrue(s, f, l)\n{\n  return match(s, f, l, [0x74, 0x72, 0x75, 0x65], {\n    type: JSONPullParser.TrueLiteral,\n    value: true,\n    source: s,\n    first: f,\n    last: f+4\n  });\n}\n\nfunction parseFalse(s, f, l)\n{\n  return match(s, f, l, [0x66, 0x61, 0x6c, 0x73, 0x65], {\n    type: JSONPullParser.FalseLiteral,\n    value: false,\n    source: s,\n    first: f,\n    last: f+5\n  });\n}\n\nfunction parseNull(s, f, l)\n{\n  return match(s, f, l, [0x6e, 0x75, 0x6c, 0x6c], {\n    type: JSONPullParser.NullLiteral,\n    value: null,\n    source: s,\n    first: f,\n    last: f+4\n  });\n}\n\nmodule.exports = JSONPullParser;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parser.js\n// module id = 0\n// module chunks = 0","function ObjectBuilder() {\n  this.handler = {\n    ref: this,\n    add: function (value) { this.ref.value = value; return value; },\n  };\n}\n\nObjectBuilder.prototype.startObject = function () {\n  this.handler = {\n    old: this.handler,\n    key: null,\n    ref: this.handler.add({}),\n    add: function (value) {\n      if (this.key === null) this.key = value;\n      else { this.ref[this.key] = value; this.key = null; }\n      return value;\n    },\n  };\n}\n\nObjectBuilder.prototype.endObject = function () {\n  this.handler = this.handler.old;\n}\n\nObjectBuilder.prototype.startArray = function () {\n  this.handler = {\n    old: this.handler,\n    ref: this.handler.add([]),\n    add: function (value) {\n      this.ref.push(value);\n      return value;\n    },\n  };\n}\n\nObjectBuilder.prototype.endArray = ObjectBuilder.prototype.endObject;\n\nObjectBuilder.prototype.add = function (value) {\n  this.handler.add(value);\n}\n\nObjectBuilder.prototype.handle = function (token) {\n  switch (token.type) {\n    case '{':\n      this.startObject();\n      break;\n    case '}':\n      this.endObject();\n      break;\n    case '[':\n      this.startArray();\n      break;\n    case ']':\n      this.endArray();\n      break;\n    case 'string':\n    case 'number':\n    case 'true':\n    case 'false':\n    case 'null':\n      this.add(token.value);\n      break;\n    case 'error':\n      throw new SyntaxError(token.value.message);\n  }\n}\n\nmodule.exports = ObjectBuilder;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/builder.js\n// module id = 1\n// module chunks = 0","module.exports = require('./src/parser.js');\n\n// function printStatus(fn) {\n//     switch(%GetOptimizationStatus(fn)) {\n//         case 1: console.log(\"Function is optimized\"); break;\n//         case 2: console.log(\"Function is not optimized\"); break;\n//         case 3: console.log(\"Function is always optimized\"); break;\n//         case 4: console.log(\"Function is never optimized\"); break;\n//         case 6: console.log(\"Function is maybe deoptimized\"); break;\n//         case 7: console.log(\"Function is optimized by TurboFan\"); break;\n//         default: console.log(\"Unknown optimization status\"); break;\n//     }\n// }\n\n// const N = 1e6;\n\n// var o = true;\n// // for (let i = 0;i < N;++i) {\n// //   o.push(null);\n// //   o.push(true);\n// //   o.push(false);\n// //   // o.push(((Math.random() - 0.5) * 1e12));\n// //   // o.push(((Math.random() - 0.5) * 1e12).toString(36));\n// //   // o[ ((Math.random() - 0.5) * 1e12).toString(36) ] = ((Math.random() - 0.5) * 1e12);\n// // }\n\n// var s = JSON.stringify(o, null, 2);\n\n// JSONPullParser.parse(s);\n// JSONPullParser.parse(s);\n// JSONPullParser.parse(s);\n\n\n// // %OptimizeFunctionOnNextCall(JSONPullParser.parse);\n// %OptimizeFunctionOnNextCall(parseTrue);\n// %OptimizeFunctionOnNextCall(parseFalse);\n// %OptimizeFunctionOnNextCall(parseNull);\n// %OptimizeFunctionOnNextCall(match);\n\n// JSONPullParser.parse(s);\n// JSONPullParser.parse(s);\n\n// printStatus(JSONPullParser.parse);\n// printStatus(parseNumber);\n// printStatus(parseString);\n// printStatus(parseTrue);\n// printStatus(parseFalse);\n// printStatus(parseNull);\n// printStatus(match);\n\n\n// // console.time('1');\n// // var o1 = JSON.parse(s);\n// // console.timeEnd('1');\n// // var s1 = JSON.stringify(o1);\n\n// console.time('2');\n// var o2 = JSONPullParser.parse(s);\n// console.timeEnd('2');\n// // var s2 = JSON.stringify(o2);\n\n// console.time('1');\n// var o1 = JSON.parse(s);\n// console.timeEnd('1');\n// var s1 = JSON.stringify(o1);\n\n\n// // console.log(s1 === s2);\n\n// // for (let i = 0;i < N;++i) {\n// //   if (o1[i] !== o2[i]) {\n// //     console.log(i, o[i], o1[i], o2[i]);\n// //     break;\n// //   }\n// // }\n\n// JSON.parse('[\"Comma after the close\"],');\n\n// JSONPullParser.parse('25');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}